(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=jQuery,o=e=>JSON.parse(e),r=function(e){const t=Array.prototype,o=t.toJSON;o&&Reflect.deleteProperty(t,"toJSON");const r=JSON.stringify(e);return o&&(t.toJSON=o),r};function n(){const e={};document.querySelectorAll("#block_display_options-list").forEach((t=>{const o=[];t.querySelectorAll(":scope > div").forEach(((e,t)=>{const r={typeId:String(e.dataset.typeId),index:t},n=e.querySelector('[name="panel"]'),l=e.querySelector('[name="shortcut"]');n&&(r.panel=n.checked),l&&(r.shortcut=l.checked),o.push(r)})),e[String(t.dataset.type)]=o})),document.querySelector("#block_display_options").value=r(e)}e.n(t)()("#block_display_options-list").sortable({items:".sort-enabled",placeholder:"placeholder",distance:3,opacity:.8,cursor:"move",forcePlaceholderSize:!0,handle:!!window.MT.Util.isMobileView()&&".col-auto:first-child",update:n}),function(){const e=o(document.getElementById("block_display_options").value);Object.entries(e).forEach((([e,t])=>{const o=document.querySelector(`div[data-type="${e}"]`);let r=null;t.forEach((e=>{const t=o.querySelector(`div[data-type-id="${e.typeId}"]`);t&&(o.insertBefore(t,r||o.firstChild),r=t.nextSibling,t.querySelector('[name="panel"]').checked=!!e.panel,t.querySelector('[name="shortcut"]').checked=!!e.shortcut)}))}))}(),n(),document.querySelectorAll("#block_display_options-list input").forEach((e=>e.addEventListener("change",n))),jQuery("#config-form").on("submit",(()=>jQuery('#config-form input[type="text"]').mtValidate("simple"))),jQuery.mtValidateAddRules({".be-validate-alnum-underscore":function(e){return e.val().match(new RegExp("^[a-zA-Z0-9_]+$"))}}),jQuery.mtValidateAddMessages({".be-validate-alnum-underscore":window.trans("This field must be filled in with letters, numbers, or underscores.")})})();